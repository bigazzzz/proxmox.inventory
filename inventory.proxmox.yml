plugin: community.general.proxmox
url: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  66666465356666366330336265353831333038303631323565613639363731646164386536306261
  3466623365306461383363666233363162306564333136620a346266303138373837383133323738
  64393632396337353630646165393237363230326333663439346432633434383136343134316563
  6639363361383033310a376330353833353534316465633630653839623136653933323664643937
  34346461393235313636333936383262303237616664353230336234306461386632
user: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  39326234333436303866303435666237383262373337373363366136656161646563353464343162
  6638623635613464646564663135643530373865376436660a623732303239333732636432623132
  38636464373866326538306235633239373762313963623263623430653534663733626631313834
  3730353465653637640a346438343762663462666538396665636433313132613035353333656135
  3463
password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  30356234396239666130353631393439626236376663386631656532613534616232366235386262
  3431333230616231346131343662356436386663663830320a326437306430363662333737376635
  32653333646434376564303566323765363033313535343733623232666166623136326136323862
  3532623633613761640a666631626462303836663139613134626339393830336430633962656332
  3634
# user: !vault |
#   $ANSIBLE_VAULT;1.1;AES256
#   35383137316239306334353062653266393766363734316265303561386332656230626634393633
#   6435613562336239326266633830333139616434633733370a336132313234373461393638313134
#   62396531636236383633383966393432346165366432666632313733653935353362636439643333
#   3633383266616437390a343634353730303466613263373035306461353637333038363663623530
#   3237
# token_id: !vault |
#   $ANSIBLE_VAULT;1.1;AES256
#   37666537313439333066343233656161336230623262316338623466363635353634313239303563
#   6537616636343531373464636634343533323831326533640a303066326231646439393165303463
#   65333836363064373063636261616233306562663832613963633232643230353966643635353832
#   3465306562333536370a363332656637346137316435343664613062353862323863643539333861
#   35313034613862656134323064613964376561376537623664393463376265626566
# token_secret: !vault |
#   $ANSIBLE_VAULT;1.1;AES256
#   32303533623337353933393762616636646536363936323737353739326139383633666632313732
#   3664333432353966383562343938643464326332623634330a313138313434616639633661643464
#   39366633653839323230633132653162323832383231343961653566353664376561623433316432
#   3736303465386536610a326233393732653063363933306630326531366562393833666634386134
#   32393961613737663336623331666230633038373532336566346266646339323830323237316566
#   3035376233353865353335636331623631373131326436366630
# use_extra_vars: true
# validate_certs: false
want_facts: true
want_proxmox_nodes_ansible_host: false
# cache: true
# strict: false
compose:
  # ansible_host: proxmox_net0.ip | proxmox_agent_interfaces[1].ip-addresses[0] | default( omit )
  ansible_host: proxmox_agent_interfaces[1]['ip-addresses'][0] | default(proxmox_ipconfig0.ip)
  ip: proxmox_ipconfig0.ip | default( omit )
  vmid: proxmox_vmid | default( omit )
  node: proxmox_node | default( omit )
  cpu: proxmox_cores | default( omit )
  mem: proxmox_memory | default( omit )
  os: proxmox_ostype | default( omit )
  status: proxmox_status | default( omit )
  desc: proxmox_description | default( omit )
